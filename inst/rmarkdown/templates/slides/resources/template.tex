\documentclass{beamer}

% -- THEME AND PACKAGES --
\usetheme{Madrid} % Base theme, heavily customized below
\useoutertheme[subsection=false]{smoothbars}
\useinnertheme{rounded}

\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{sansmath}
\sansmath
\renewcommand{\familydefault}{\sfdefault}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{tikz}

% -- NMU BRAND COLORS --
\definecolor{nmublue}{HTML}{141c2b}
\definecolor{nmuyellow}{HTML}{ffce00}
\definecolor{nmugrey}{HTML}{999999}
\definecolor{nmuwhite}{HTML}{ffffff}

% -- BEAMER COLOR SCHEME --
\setbeamercolor{structure}{fg=nmublue} % Default structure color
\setbeamercolor{palette primary}{bg=nmublue, fg=nmuwhite}
\setbeamercolor{palette secondary}{bg=nmublue, fg=nmuwhite}
\setbeamercolor{palette tertiary}{bg=nmublue, fg=nmuwhite}
\setbeamercolor{palette quaternary}{bg=nmublue, fg=nmuwhite}

\setbeamercolor{title}{fg=nmublue, bg=nmuwhite}
\setbeamercolor{frametitle}{fg=nmublue, bg=nmuwhite}
\setbeamercolor{block title}{fg=nmublue, bg=nmuyellow!20}
\setbeamercolor{block body}{bg=nmuyellow!5}
\setbeamercolor{alerted text}{fg=nmuyellow}

% -- BEAMER FONT & ELEMENT TEMPLATES --

% Remove navigation symbols
\setbeamertemplate{navigation symbols}{}

% Title Page Customization
\setbeamertemplate{title page}{
  \vbox{}
  \vfill
  \begingroup
    \centering
    \begin{minipage}{\textwidth}
      \centerline{\includegraphics[width=0.6\textwidth]{$logo$}}\par % Centered logo
      \vspace{2em}
      {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\par}
      \vspace{0.5em}
      {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}
      \vspace{1.5em}
      {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor\par}
      \vspace{0.5em}
      {\usebeamerfont{institute}\usebeamercolor[fg]{institute}\insertinstitute\par}
      \vspace{0.5em}
      {\usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate\par}
    \end{minipage}
  \endgroup
  \vfill
}

\makeatletter
\setbeamertemplate{headline}{
  \ifbeamer@inframe
    \ifx\insertframetitle\@empty
      % No frame title - suppress headline
    \else
      % Frame has title - show normal headline
      \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex,%
        leftskip=.3cm,rightskip=.3cm plus1fil]{section in head/foot}
        \usebeamerfont{section in head/foot}\insertsectionnavigationhorizontal{\paperwidth}{}{}%
      \end{beamercolorbox}%
    \fi
  \fi
}
\makeatother

% Custom Frame Title
\setbeamertemplate{frametitle}{
  \ifx\insertframetitle\empty
    % No title - suppress everything
  \else
    % Has title - show yellow bar and title
    \nointerlineskip
    \begin{beamercolorbox}[wd=\paperwidth,ht=2pt]{palette quaternary}
      \color{nmuyellow}\rule{\paperwidth}{2pt}
    \end{beamercolorbox}
    \begin{beamercolorbox}[wd=\textwidth,left,ht=2.5ex,dp=1.5ex]{frametitle}
        \usebeamerfont{frametitle}\insertframetitle
    \end{beamercolorbox}
  \fi
}

% Custom Footer (Footline)
% Creates the blue bar with author, title, and frame number
\setbeamertemplate{footline}{
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1ex]{palette primary}
    \hspace{1em}\insertshortauthor \hfill \insertshorttitle \hfill
    \insertframenumber{}/\inserttotalframenumber\hspace{1em}
  \end{beamercolorbox}
}

% Itemize and Enumerate Styling
\setbeamertemplate{itemize item}{\textcolor{nmuyellow}{\textbullet}}
\setbeamertemplate{itemize subitem}{\textcolor{nmuyellow}{\textendash}}
\setbeamercolor{enumerate item}{fg=nmublue}

% -- PANDOC COMPATIBILITY & SYNTAX HIGHLIGHTING --
% This section is taken from your provided template to ensure Pandoc compatibility
\providecommand{\tightlist}{\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\pandocbounded}[1]{#1}

$header-includes$

\title[$shorttitle$]{$title$}
\subtitle{$subtitle$}
\author{$author$}
\institute{$institute$}
\date{$date$}

\begin{document}

\begin{frame}[plain]
  \titlepage
\end{frame}

$body$

\end{document}
